{% extends 'adminpanel/base.html' %}

{% block content %}
<h2>Manage Batches</h2>

<a href="{% url 'product:batch_add' %}" class="btn btn-primary">
    Add New Batch
</a>

<table class="table table-bordered mt-3">
    <thead>
        <tr>
            <th>#</th>
            <th>Product</th>
            <th>Batch No</th>
            <th>Quantity</th>
            <th>MFG Date</th>
            <th>EXP Date</th>
            <th>Actions</th>
        </tr>
    </thead>

    <tbody>
        {% for batch in batches %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ batch.product.product_name }}</td>
            <td>{{ batch.batch_number }}</td>
            <td>{{ batch.quantity }}</td>
            <td>{{ batch.mfg_date }}</td>
            <td>{{ batch.exp_date }}</td>
            <td>
                <a href="{% url 'product:batch_edit' batch.id %}"
                   class="btn btn-sm btn-warning">Edit</a>

                <a href="{% url 'product:batch_delete' batch.id %}"
                   class="btn btn-sm btn-danger"
                   onclick="return confirm('Are you sure?');">
                   Delete
                </a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="7">No batches found.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
